(()=>{"use strict";var e=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}];function t(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",r),document.addEventListener("click",o)}function n(e){e.classList.remove("popup_is-opened"),document.removeEventListener("click",o),document.removeEventListener("keydown",r)}function r(e){"Escape"===e.key&&(console.log(e.key),n(document.querySelector(".popup_is-opened")))}function o(e){e.target.classList.contains("popup_is-opened")&&n(e.target)}var c=document.querySelector("#card-template").content,s=document.querySelector(".places__list");function a(e,t,n){var r=c.querySelector(".card").cloneNode(!0),o=r.querySelector(".card__title"),a=r.querySelector(".card__image"),d=r.querySelector(".card__delete-button");return o.textContent=e,a.alt=e,a.src=t,d.addEventListener("click",(function(){r.remove()})),s.addEventListener("click",i),s.addEventListener("click",n),r}function i(e){e.target.classList.contains("card__like-button")&&e.target.classList.toggle("card__like-button_is-active")}var d=document.querySelector(".content"),l=d.querySelector(".places__list"),p=d.querySelector(".profile__add-button"),u=d.querySelector(".profile__edit-button"),m=document.querySelector(".popup_type_edit"),_=document.querySelector(".popup_type_new-card"),v=document.querySelector(".popup_type_image"),y=m.querySelector(".popup__close"),f=_.querySelector(".popup__close"),k=v.querySelector(".popup__close"),g=document.querySelector(".profile__info"),q=g.querySelector(".profile__title"),S=g.querySelector(".profile__description"),L=document.querySelector(".popup__image"),E=document.querySelector(".popup__caption"),x=document.forms.editProfile,h=x.elements.name,b=x.elements.description,j=document.forms.newPlace,C=j.elements.placeName,w=j.elements.link;function D(e){if(e.target.classList.contains("card__image")){var n=e.target.alt,r=e.target.src;L.src=r,L.alt=n,E.textContent=n,t(v)}}u.addEventListener("click",(function(){t(m),h.value=q.textContent,b.value=S.textContent})),p.addEventListener("click",(function(){t(_),j.reset()})),j.addEventListener("submit",(function(e){e.preventDefault();var t=a(C.value,w.value,D);l.prepend(t),n(_)})),x.addEventListener("submit",(function(e){e.preventDefault(),q.textContent=h.value,S.textContent=b.value,n(m)})),y.addEventListener("click",(function(){n(m)})),f.addEventListener("click",(function(){n(_)})),k.addEventListener("click",(function(){n(v)}));for(var N=0;N<e.length;N++){var P=a(e[N].name,e[N].link,D);l.append(P)}})();